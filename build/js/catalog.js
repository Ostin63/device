let modalOverlay=document.querySelector(".modal-overlay"),modalEntry=document.querySelector(".modal-entry"),entryButtons=document.querySelectorAll(".button-entry"),modalCloseEntry=modalEntry.querySelector(".modal-close-entry"),formEntry=modalEntry.querySelector(".entry-form"),entryFields=formEntry.querySelectorAll(".entry-field"),entryName=formEntry.querySelector(".entry-name"),entryPassword=formEntry.querySelector(".entry-password"),storageName=localStorage.getItem("name"),storageMail=localStorage.getItem("email"),staragePassword=localStorage.getItem("password"),enterName=document.querySelector(".enter-name"),enter=document.querySelector(".enter"),onModalClose=function(e){e.preventDefault(),document.querySelector(".modal-show").classList.remove("modal-show"),document.querySelector(".show-block").classList.remove("show-block"),window.removeEventListener("keydown",onEscapePress)},onEscapePress=function(e){27===e.keyCode&&onModalClose(e)},isStorageSupport=!0,storage="";if(null!==storageName?(enterName.textContent=storageName,enter.classList.add("hover")):(enterName.textContent="",enter.classList.remove("hover")),document.querySelector(".entry-form")){for(let e=0;e<entryButtons.length;e++){entryButtons[e].addEventListener("click",(function(e){e.preventDefault(),modalEntry.classList.add("modal-show"),modalOverlay.classList.add("show-block"),window.addEventListener("keydown",onEscapePress);try{storage=localStorage.getItem("storageMail")}catch(e){isStorageSupport=!1}storage?(entryName.value=storage,entryPassword.focus()):entryName.focus(),staragePassword&&(password.value=staragePassword)})),modalCloseEntry.addEventListener("click",onModalClose)}formEntry.addEventListener("submit",(function(e){for(let e=0;e<entryFields.length;e++){let r=entryFields[e];r.value?r.classList.remove("field-error"):(r.classList.add("field-error"),modalEntry.classList.add("modal-error"))}entryName.value&&password.value?isStorageSupport&&localStorage.setItem("name",entryName.value):(e.preventDefault(),modalEntry.classList.remove("modal-error"),modalEntry.classList.add("modal-error"))}))}$(".range-control").slider({min:0,max:5e3,values:[0,3e3],range:!0,animate:"fast",slide:function(e,r){$(".min-price").val(r.values[0]),$(".max-price").val(r.values[1])}}),$(".min-price").val($(".range-control").slider("values",0)),$(".max-price").val($(".range-control").slider("values",1)),$(".range-filter input").change((function(){let e=$(".min-price").val().replace(/[^0-9]/g,""),r=$(".range-control").slider("option","min"),t=$(".range-control").slider("values",1),o=$(".max-price").val().replace(/[^0-9]/g,""),a=$(".range-control").slider("option","max"),l=$(".range-control").slider("values",0);e>t&&(e=t),e<r&&(e=r),""==e&&(e=0),o<l&&(o=l),o>a&&(o=a),""==o&&(o=0),$(".min-price").val(e),$(".max-price").val(o),e!=l&&$(".range-control").slider("values",0,e),o!=t&&$(".range-control").slider("values",1,o)}));