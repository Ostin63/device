let modalOverlay=document.querySelector(".modal-overlay"),modalEntry=document.querySelector(".modal-entry"),entryButtons=document.querySelectorAll(".button-entry .enter"),modalCloseEntry=modalEntry.querySelector(".modal-close-entry"),formEntry=modalEntry.querySelector(".entry-form"),entryFields=formEntry.querySelectorAll(".entry-field"),entryName=formEntry.querySelector(".entry-name"),entryPassword=formEntry.querySelector(".entry-password"),storageName=localStorage.getItem("name"),storageMail=localStorage.getItem("email"),staragePassword=localStorage.getItem("password"),enterName=document.querySelector(".enter-name"),escapeButtons=document.querySelectorAll(".button-entry .escape"),onModalClose=function(e){e.preventDefault(),document.querySelector(".modal-show").classList.remove("modal-show"),document.querySelector(".show-block").classList.remove("show-block"),window.removeEventListener("keydown",onEscapePress)},onEscapePress=function(e){27===e.keyCode&&onModalClose(e)},isStorageSupport=!0,storage="";if(null!==storageName){for(enterName.textContent=storageName,i=0;i<entryButtons.length;i++){entryButtons[i].classList.add("d-none")}for(let e=0;e<escapeButtons.length;e++){escapeButtons[e].classList.remove("d-none")}}else{for(enterName.textContent="",i=0;i<entryButtons.length;i++){entryButtons[i].classList.remove("d-none")}for(let e=0;e<escapeButtons.length;e++){escapeButtons[e].classList.add("d-none")}}for(let e=0;e<escapeButtons.length;e++){escapeButtons[e].addEventListener("click",(function(){localStorage.removeItem("name")}))}if(document.querySelector(".entry-form")){for(let e=0;e<entryButtons.length;e++){entryButtons[e].addEventListener("click",(function(e){e.preventDefault(),modalEntry.classList.add("modal-show"),modalOverlay.classList.add("show-block"),window.addEventListener("keydown",onEscapePress);try{storage=localStorage.getItem("storageMail")}catch(e){isStorageSupport=!1}storage?(entryName.value=storage,entryPassword.focus()):entryName.focus(),staragePassword&&(password.value=staragePassword)})),modalCloseEntry.addEventListener("click",onModalClose)}formEntry.addEventListener("submit",(function(e){for(let e=0;e<entryFields.length;e++){let t=entryFields[e];t.value?t.classList.remove("field-error"):(t.classList.add("field-error"),modalEntry.classList.add("modal-error"))}entryName.value&&password.value?isStorageSupport&&localStorage.setItem("name",entryName.value):(e.preventDefault(),modalEntry.classList.remove("modal-error"),modalEntry.classList.add("modal-error"))}))}$(".range-control").slider({min:0,max:5e3,values:[0,3e3],range:!0,animate:"fast",slide:function(e,t){$(".min-price").val(t.values[0]),$(".max-price").val(t.values[1])}}),$(".min-price").val($(".range-control").slider("values",0)),$(".max-price").val($(".range-control").slider("values",1)),$(".range-filter input").change((function(){let e=$(".min-price").val().replace(/[^0-9]/g,""),t=$(".range-control").slider("option","min"),r=$(".range-control").slider("values",1),o=$(".max-price").val().replace(/[^0-9]/g,""),a=$(".range-control").slider("option","max"),n=$(".range-control").slider("values",0);e>r&&(e=r),e<t&&(e=t),""==e&&(e=0),o<n&&(o=n),o>a&&(o=a),""==o&&(o=0),$(".min-price").val(e),$(".max-price").val(o),e!=n&&$(".range-control").slider("values",0,e),o!=r&&$(".range-control").slider("values",1,o)}));